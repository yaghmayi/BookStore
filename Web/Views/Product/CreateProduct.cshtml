@using LightStore.Models
@using LightStore.Web
@model LightStore.Models.EditProductViewModel
@{
    ViewBag.Title = "CreateProduct";
}

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link href="~/Content/Bootstrap/css/bootstrap-slider.css" rel="stylesheet" />
</head>

<script type="text/javascript">
    function showimagepreview(input) {
        if (input.files && input.files[0]) {
            var filerdr = new FileReader();
            filerdr.onload = function (e) {
                $('#imgprvw').attr('src', e.target.result);
            }
            filerdr.readAsDataURL(input.files[0]);
        }
    }
</script>

<form method="POST" enctype="multipart/form-data">
@Html.ValidationSummary(true)
    <div class="container">
        <div class="col-sm-12">
            <h2>
                @Html.EditorFor(model => model.Title)
                @Html.ValidationMessageFor(model => model.Title)
                <label style="font-size: small">(In  @Html.ActionLink(@Model.CategoryName, "ShowCategory", "Product", new { id = @Model.CategoryCode }, null))</label>
            </h2>
        </div>

        <div class="col-sm-12" style="border: solid gainsboro">
            <div class="col-sm-6">
                <div class="row clearfix" style="visibility: collapse;height: 0PX">
                    <div style="visibility: collapse">
                        <input type="text" id="Code" name="Code" value="@Model.Code" style="visibility: collapse" />
                    </div>
                </div>
                
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Price)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.EditorFor(model => model.Price)
                        @Html.ValidationMessageFor(model => model.Price)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Discount)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.EditorFor(model => model.Discount)
                        @Html.ValidationMessageFor(model => model.Discount)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Description)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.EditorFor(model => model.Description)
                        @Html.ValidationMessageFor(model => model.Description)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Length)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.EditorFor(model => model.Length)
                        @Html.ValidationMessageFor(model => model.Length)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Width)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.EditorFor(model => model.Width)
                        @Html.ValidationMessageFor(model => model.Width)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Height)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.EditorFor(model => model.Height)
                        @Html.ValidationMessageFor(model => model.Height)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Colors)
                    </div>
                    <div class="col-sm-8 col-xs-12">
                        @LightStotreHtmHelper.EditColors(new List<Color>())
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.IsRecommended)
                    </div>
                    <div class="col-sm-8 col-xs-12">
                        @Html.CheckBoxFor(model => model.IsRecommended, new { @class = "checkbox" })
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12" style="margin-top: 3px">
                        <b>Pic</b>
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-top: 3px">
                        <input type="file" id="Pic" name="Pic" alt="preview" onchange="showimagepreview(this)" />
                        <img id="imgprvw" />
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12" style="margin-top: 3px">
            <input type="submit" value="Create" />
            |
            @Html.ActionLink("Back to List", "ListProducts", "Product", new { categoryCode = @Model.CategoryCode }, null)
        </div>
    </div>
</form>
