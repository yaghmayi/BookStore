@using LightStore.Models
@using LightStore.Web
@model LightStore.Models.EditProductViewModel
<!DOCTYPE html>

<head>
    <link href="../../Content/Bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="../../Content/Bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<script type="text/javascript">
    function showimagepreview(input) {
        if (input.files && input.files[0]) {
            var filerdr = new FileReader();
            filerdr.onload = function (e) {
                $('#imgprvw').attr('src', e.target.result);
            }
            filerdr.readAsDataURL(input.files[0]);
        }
    }
</script>

<form method="POST" enctype="multipart/form-data">
    @Html.ValidationSummary(true)
    <div class="container">
        <div class="col-sm-12 well">
            <div class="col-sm-6">
                <div class="row clearfix" style="visibility: collapse;height: 0PX">
                    <div style="visibility: collapse">
                        <input type="text" id="CategoryCode" name="CategoryCode" value="@Model.CategoryCode" style="visibility: collapse"/>
                        <input type="text" id="Code" name="Code" value="@Model.Code" style="visibility: collapse"/>
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Title)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Title, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Title)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Price)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Price, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Price)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Discount)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Discount, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Discount)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Description)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Description, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Description)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Length)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Length, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Length)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Width)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Width, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Width)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Height)
                    </div>
                    <div class="col-sm-8 col-xs-12" style="margin-bottom: 2px">
                        @Html.TextBoxFor(model => model.Height, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Height)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.Colors)
                    </div>
                    <div class="col-sm-8 col-xs-12">
                        @LightStotreHtmHelper.EditColors(Model.Colors)
                    </div>
                </div>
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        @Html.LabelFor(model => model.IsRecommended)
                    </div>
                    <div class="col-sm-8 col-xs-12">
                        @Html.CheckBoxFor(model => model.IsRecommended,  new { @class="checkbox" })
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="row clearfix">
                    <div class="col-sm-4 col-xs-12">
                        <b>Pic</b>
                    </div>
                    <div class="col-sm-8 col-xs-12">
                        <input src="/Product/ShowPhoto/@Model.Code" type="file" id="Pic" name="Pic" alt="preview" onchange="showimagepreview(this)" />
                        <img id="imgprvw" src="/Product/ShowPhoto/@Model.Code"  />
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12">
            <input type="submit" class="btn btn-default" value="Save" />
        </div>
        
        <div class="col-sm-12" style="padding-top: 5px">
            @Html.ActionLink("Back to List", "ListProducts", "Product", new { categoryCode = @Model.CategoryCode }, null)
        </div>
    </div>
</form>
